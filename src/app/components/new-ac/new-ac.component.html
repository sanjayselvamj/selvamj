<div class="login-container d-flex justify-content-center align-items-center">
  <div class="login-card">
    <div class="text-center">

    </div>

    <h3 class="text-center mb-4">Register</h3>

    <!-- Form for registration -->
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="login-form">
      <!-- Username Field -->
      <mat-form-field class="form-field w-100">
        <mat-label>Username</mat-label>
        <input matInput formControlName="username" required placeholder="Enter your username">
        <mat-error *ngIf="registerForm.get('username')?.hasError('required')">
          Username is required.
        </mat-error>
        <mat-error *ngIf="registerForm.get('username')?.hasError('minlength')">
          Username should be at least 4 characters long.
        </mat-error>
      </mat-form-field>

      <!-- Password Field -->
      <mat-form-field class="form-field w-100" appearance="fill">
        <mat-label>Password</mat-label>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password"
          required
          placeholder="Enter your password"
        />
        <button
          type="button"
          mat-icon-button
          matSuffix
          class="password-toggle-btn"
          (click)="hidePassword = !hidePassword"
          aria-label="Toggle password visibility"
        >
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
          Password is required.
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
          Password should be at least 6 characters long.
        </mat-error>
      </mat-form-field>

      <!-- Confirm Password Field -->
      <mat-form-field class="form-field w-100">
        <mat-label>Confirm Password</mat-label>
        <input matInput type="password" formControlName="confirmPassword">
        <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
          Confirm Password is required.
        </mat-error>
        <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('mismatch')">
          Passwords do not match.
        </mat-error>
      </mat-form-field>

      <!-- Register Button -->
      <button  mat-raised-button class="btn btn-primary btn-block login-btn" type="submit">Register</button>

      <!-- Success/Error Messages -->
      <p *ngIf="successMessage" class="success-message text-danger mt-2 ml-3">{{ successMessage }}</p>
      <p *ngIf="errorMessage" class="error-message text-success mt-2">{{ errorMessage }}</p>


      <!-- Link to the login page -->
      <div class="signup-link text-center mt-3">
        <span>Already have an account?</span>
        <button  class="btn btn-link"><a (click)="navigateToLogin()" class="text-decoration-none">Login</a></button>

      </div>

      <!-- Help button -->
      <div class="help-link text-center mt-3">
        <button class="btn btn-link" [routerLink]="['/helpdata']" [queryParams]="{ view: 'registration' }">
          Help with Register
        </button>
      </div>
    </form>
  </div>
</div>
